<div>
  <div class="code-block-with-header">
    <div class="header">
      <div class="title">JWT</div>
      <button class="copy-btn" onclick="clearCodeBlock(event);">Clear</button>
    </div>
    <pre><code id="encodedJWT" class="snippet hljs language-undefined code-wrap utility" contenteditable="true">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI5MDI1NTUxMjEyIiwibmFtZSI6IlBpbmcgRGVzaWduIExpYnJhcnkiLCJpYXQiOjE1MTYyMzkwMjJ9.Jk2hfoTZ5tNxycHjV6y2R0IszMi3I93dxXy4fU2syMg</code></pre>
  </div>

  <div class="mt-l mb centered center">
    <button id="decodeBtn" class="action-button blue">
      <i class="fa fa-arrow-left"></i> Decode JWT</button>
  </div>

  <div>
    <div class="code-block-with-header mr" style="width:30%; display: inline-block">
      <div class="header">
        <div class="title">Header</div>
        <button class="copy-btn" onclick="copyCodeBlock(event, 'JWT Header');">Copy</button>
      </div>
      <pre><code id="decodedHeader" class="snippet hljs language-undefined code-wrap utility"></code></pre>
    </div>

    <div class="code-block-with-header" style="width:calc(70% - 30px); display: inline-block">
      <div class="header">
        <div class="title">Payload</div>
        <button class="copy-btn" onclick="copyCodeBlock(event, 'JWT Payload');">Copy</button>
      </div>
      <pre><code id="decodedPayload" class="snippet hljs language-undefined code-wrap utility"></code></pre>
    </div>

  </div>
</div>

<div id="scriptDiv">
  <script>
    const encodedJWTInput = document.getElementById("encodedJWT");
    const decodedHeader = document.getElementById("decodedHeader");
    const decodedPayload = document.getElementById("decodedPayload");

    function createHandler() {

      const dencodeBtn = document.getElementById("decodeBtn");
      dencodeBtn.onclick = function () {

        const token = encodedJWTInput.textContent;
        if (token) {
          const [headerB64, payloadB64, signatureB64] = token.split('.');
          const header = JSON.parse(atob(headerB64));
          const payload = JSON.parse(atob(payloadB64));

          decodedHeader.textContent = JSON.stringify(header, null, 2);
          decodedPayload.textContent = JSON.stringify(payload, null, 2);
          greenAlert("JWT Decoded")
        }
      };
    }
    createHandler();
  </script>
</div>