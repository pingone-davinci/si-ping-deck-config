<div id="pingone-links">
</div>

<div id="scriptDiv">
  <script>
    const pdiv = document.getElementById("pingone-links");
    const envs = app.SETTINGS.getProperty("pingone");

    let html = "";
    if (!envs || envs.length == 0) {
      html += "<h3 class='mt-xl centered'>No PingOne Settings Provided<h3>"
    } else {
      html += `<table id="form-table" width="95%" align="center"><tbody>`;

      console.log(envs);
      envs.forEach((e) => {
        html += `
              <tr>
                  <td>${e.envNickname}</td>
                  <td><a href="https://console.pingone.${e.region}/?env=${e.envId}" target=${e.region}"">Console</a></td>
                  <td><a href="https://apps.pingone.${e.region}/${e.envId}/myaccount" target=${e.region}"">MyAccount</a></td>
                  <td><a href="https://apps.pingone.${e.region}/${e.envId}/myapps" target=${e.region}"">App Portal</a></td>
              </tr>`;
      });

      html += `</tbody></table>`;
    }

    pdiv.innerHTML = html;

  </script>
</div>